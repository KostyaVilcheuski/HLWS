# Описание API

### Краткое описание примера 

Я буду рассматривать на примере футбольной команды. У меня будет футбольная команда, которая состоит из игроков. Каждый игрок имеет ФИО и свою трансферную цену. Тогда будут запросы: получить информацию о игроке, изменить трансферную стоимость в млн евро, удалить игрока (трансфер/аренда/свободный агент), добавить нового игрока и получить полный состав команды.

### Как будет храниться информация

| Data type | Data format | Description | Variable |
| ------ | ------ | ------ | ------ |
| int | uint32 | ID | id |
| string | unicode | ФИО | name |
| int | uint32 | Трансферная стоимость | cost |

Здесь ID у всех событий должен быть уникальным. 

### Пример игрока

```json
{
  "player": {
    "id": 123123,
    "name": "Артём Дзюба",
    "cost": 10
  }
}
```

### Описание возможных запросов

| Query type | URI | Description |
| ------ | ------ | ------ |
|  POST | /player/<id> | Изменить трансферную стоимость игрока |
|  GET | /player/<id> | Получить информацию о трансферной стоимости игрока |
|  DELETE | /player/<id> | Удалить игрока |
|  POST | /player | Добавить нового игрока. Ожидается, что будут переданы поля name и cost |
| GET | /player | Получить информацию о всех игроках |

# Описание API и каждого возможного запроса отдельно 

### 1. /player/<id> запросы

Здесь будут описаны запросы, которые можно сделать к ручке /player/<id>

#### 1.a) Получить информацию о трансферной стоимости (GET)

Результатом будет являться информация о игроке в формате JSON с заданным ID. Если информацию получить не удалось, будет возвращена ошибка.

| Value | Code | Description |
| ------ | ------ | ------ |
|  OK | 200 | Корректный запрос, в результате вернется JSON с описанием игрока с заданным ID |
|  Not found | 404 | Нету игрока, у которого заданный ID |

#### 1.b) Удалить игрока (DELETE)

Если игрок с таким ID существует, он будет удален. Если такого не было, то будет возвращена соответствующая ошибка.

| Value | Code | Description |
| ------ | ------ | ------ |
|  OK | 200 | Корректный запрос, в результате будет удален футболист с заданным ID |
|  Not found | 404 | Нету игрока, у которого заданный ID, ничего не будет удалено |

#### 1.c) Изменить трансферную стоимость у игрока (POST)

Если игрок с таким ID существует и корректно задано поле новой цены (cost), то трансферная стоимость игрока с заданным ID будет изменена. Если футболиста с таким ID не существует, будут возвращены соответствующая ошибка.

В запросе необходимо передать JSON с параметром <cost> - новая стоимость игрока с заданным ID. Например,

```json
{
    "cost": ["New cost as <int>"]
}
```

| Value | Code | Description |
| ------ | ------ | ------ |
|  OK | 200 | Корректный запрос, у футболиста с заданным ID было изменено поле отвечающее за трансферную стоимость, будет возвращен JSON игрока с измененной трансферной стоимостью |
|  Not found | 404 | Нету игрока, у которого заданный ID |

### 2. /player запросы

Здесь будут описаны запросы, которые можно сделать к ручке /player

#### 2.a) Получить информацию о всех игроках (GET)

Результатом будет являться информация о составе всей команды в формате JSON.
```json
{
    "links": {
     "self": "/players"
    }
    "items": [
        "player": {
            "id": 123123,
            "name": "Артём Дзюба",
            "cost": 10
        }
        "player": {
            "id": 123124,
            "name": "Федор Смолов",
            "cost": 15
        },
        ...
    ]
}
```

#### 2.b) Добавить нового игрока (POST)

В результате запроса в базу будет добавлен новый игрок, всю информацию про которого нужно передать в JSON. Если поля name или cost не будет задано или они заданы некорректно, то новый игрок не будет добавлен.

Если запрос удалось выполнить, возвращается JSON, который будет описывать нового игрока. 

| Value | Code | Description |
| ------ | ------ | ------ |
|  OK | 200 | Корректный запрос, будет возвращен JSON, который будет описывать нового игрока |
|  Bad request | 400 | Некорректный запрос или список передаваемых параметров |

